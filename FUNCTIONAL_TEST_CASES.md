# Functional Test Cases: Amazon Listing Optimizer

This document provides functional test cases for the Amazon Listing Optimizer application.

**Test Case ID Format:** `TC_MOD_XXX` (e.g., `TC_USR_001` for User Accounts, `TC_PIN_001` for Product Input)
**Priority Levels:** High, Medium, Low

---
**Module: User Account Management (Conceptual - Basic Login/Logout)**

*This module assumes a basic implementation. If more features like registration, password reset, profile management are added, test cases should be expanded.*

| Test Case ID | Description                                      | Priority | Preconditions                                           | Test Steps                                                                                                | Expected Results                                                                                                |
|--------------|--------------------------------------------------|----------|---------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| TC_USR_001   | Verify successful user login with valid credentials. | High     | User account exists. Application is at login page.      | 1. Enter valid username/email. <br> 2. Enter valid password. <br> 3. Click Login button.                   | User is redirected to the main application page (e.g., Optimization Page). User session is created. Welcome message displayed. |
| TC_USR_002   | Verify failed login with invalid password.         | High     | Application is at login page.                             | 1. Enter valid username/email. <br> 2. Enter invalid password. <br> 3. Click Login button.                 | Error message "Invalid username or password" (or similar, translated) is displayed. User remains on login page. |
| TC_USR_003   | Verify successful user logout.                   | High     | User is logged in.                                      | 1. Click on Logout button/link.                                                                           | User is logged out and redirected to the login page. Session is terminated.                                   |

---
**Module: Product Input (ASIN & Manual)**

| Test Case ID | Description                                                                 | Priority | Preconditions                                                              | Test Steps                                                                                                                               | Expected Results                                                                                                                                                                                            |
|--------------|-----------------------------------------------------------------------------|----------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_PIN_001   | Verify successful data fetching and display using a valid KSA ASIN.           | High     | Backend PAAPI integration is functional (or correctly mocked). Valid KSA ASIN is available. | 1. Navigate to Optimization Page. <br> 2. Enter a valid KSA ASIN in the ASIN input field. <br> 3. Click "Generate Optimized Content" (or submit form). | (If PAAPI call happens before full optimization) Current content fields (mocked for now) should ideally show some indication of fetched data. If PAAPI call is part of optimization, proceed to AI content generation. Backend receives ASIN. |
| TC_PIN_002   | Verify handling of an invalid ASIN (e.g., incorrect format, non-existent).    | High     | Backend PAAPI integration is functional (or correctly mocked).             | 1. Navigate to Optimization Page. <br> 2. Enter an invalid ASIN. <br> 3. Click "Generate Optimized Content".                            | An appropriate error message is displayed (e.g., "Invalid ASIN" or "Product not found"). No data is fetched. (Backend should handle PAAPI error and relay).                                              |
| TC_PIN_003   | Verify successful product data input using manual fields (English).         | High     | User is on Optimization Page.                                              | 1. Leave ASIN blank. <br> 2. Fill "Manual Product Name". <br> 3. Fill "Manual Key Features". <br> 4. (Optional) Fill "Target Audience". <br> 5. Proceed with optimization. | The entered manual data is used for AI prompt generation. No errors related to missing ASIN.                                                                                                                |
| TC_PIN_004   | Verify manual product data input with Arabic characters.                      | High     | User is on Optimization Page. Arabic language selected for UI.             | 1. Leave ASIN blank. <br> 2. Fill "Manual Product Name" with Arabic text. <br> 3. Fill "Manual Key Features" with Arabic text. <br> 4. Proceed. | Arabic text is correctly accepted, displayed in input fields, and used for AI prompt generation.                                                                                                            |
| TC_PIN_005   | Verify submitting form with ASIN and some manual fields populated.            | Medium   | User is on Optimization Page.                                              | 1. Enter a valid ASIN. <br> 2. Also fill "Manual Product Name" (e.g., to override fetched title). <br> 3. Proceed.                         | System should have a defined behavior: either prioritize ASIN data, or allow manual fields to override fetched data for prompt generation. Verify this defined behavior.                               |
| TC_PIN_006   | Verify form submission without ASIN or required manual fields (Product Name, Key Features). | High     | User is on Optimization Page.                                              | 1. Leave ASIN, Manual Product Name, and Manual Key Features blank. <br> 2. Click "Generate Optimized Content".                             | Validation error message (e.g., "Please provide an ASIN or Manual Product Name and Key Features for optimization.", translated) is displayed. API call is not made.                                        |

---
**Module: Optimization Configuration**

| Test Case ID | Description                                                                | Priority | Preconditions                                 | Test Steps                                                                                                                                                                                                                            | Expected Results                                                                                                                                                                                                                               |
|--------------|----------------------------------------------------------------------------|----------|-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_CFG_001   | Verify selecting "English" as optimization language.                       | High     | Product input is valid.                       | 1. Select "English" from Language dropdown. <br> 2. Configure other options. <br> 3. Submit for optimization.                                                                                                                            | Backend receives "en" (or equivalent) as language. AI-generated content (mocked/live) is in English.                                                                                                                                      |
| TC_CFG_002   | Verify selecting "Arabic" as optimization language.                        | High     | Product input is valid.                       | 1. Select "Arabic" from Language dropdown. <br> 2. Configure other options. <br> 3. Submit for optimization.                                                                                                                              | Backend receives "ar" (or equivalent) as language. AI-generated content (mocked/live) is in Arabic.                                                                                                                                       |
| TC_CFG_003   | Verify selecting content types to optimize (e.g., only Title and Description). | Medium   | Product input is valid.                       | 1. Check only "Title" and "Description" checkboxes. <br> 2. Uncheck "Bullet Points". <br> 3. Submit for optimization.                                                                                                                       | Backend receives the correct list of content types. AI-generated content only shows results for Title and Description. Editable fields for Bullet Points might be hidden or show no data.                                                    |
| TC_CFG_004   | Verify inputting custom keywords.                                          | Medium   | Product input is valid.                       | 1. Enter comma-separated keywords (e.g., "حصري,عروض رمضان") in "Custom Keywords" field. <br> 2. Submit.                                                                                                                                  | Backend receives the keywords. (Mocked) AI prompt includes these keywords. (Live AI might use them).                                                                                                                                          |
| TC_CFG_005   | Verify selecting different tone/style options.                             | Medium   | Product input is valid.                       | 1. Select a specific tone (e.g., "Formal") from Tone/Style dropdown. <br> 2. Submit.                                                                                                                                                   | Backend receives the selected tone. (Mocked) AI prompt includes this tone. (Live AI might adapt its style).                                                                                                                                     |

---
**Module: AI Content Generation & Display**

| Test Case ID | Description                                                                                   | Priority | Preconditions                                                               | Test Steps                                                                                                                                                                            | Expected Results                                                                                                                                                                                                                                                              |
|--------------|-----------------------------------------------------------------------------------------------|----------|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_AIG_001   | Verify successful AI content generation and display for all selected parts (Title, Bullets, Desc). | High     | Valid product input and configuration. Backend AI integration is functional (mocked/live). | 1. Provide valid product input. <br> 2. Select all content types (Title, Bullets, Description) for optimization. <br> 3. Select a language (e.g., English). <br> 4. Click "Generate Optimized Content". | Loading indicator is shown during API call. On success, the "Review & Edit Optimized Content" section appears. AI-generated (editable) fields for Title, Bullet Points, and Description are populated with content in English. No errors are displayed.                     |
| TC_AIG_002   | Verify display of "Current Content (Mock)" placeholders alongside AI content.                   | High     | TC_AIG_001 successful.                                                      | 1. Observe the "Review & Edit Optimized Content" section.                                                                                                                             | For each content part (Title, Bullets, Description), a "Current Content (Mock)" disabled text field is displayed in the left column, showing placeholder text. The AI-generated content is in the right column.                                                              |
| TC_AIG_003   | Verify handling of backend error during AI content generation.                                  | High     | Product input is valid. Backend is configured to simulate an OpenAI API error.  | 1. Submit for optimization.                                                                                                                                                           | Loading indicator shown. Error message from backend (e.g., "Failed to generate content from AI service.") is displayed to the user. No AI content is populated in the editable fields. Previous optimized data (if any) is cleared.                                          |
| TC_AIG_004   | Verify AI content generation when only some content parts are selected (e.g., Title only).      | Medium   | Valid product input.                                                        | 1. Select only "Title" for optimization. <br> 2. Submit.                                                                                                                              | Only the "Title" section appears in the "Review & Edit" area with AI-generated content. Sections for Bullet Points and Description are not shown or indicate no data was generated for them (as per `contentToOptimize` state).                                       |

---
**Module: Content Editing & Interaction**

| Test Case ID | Description                                                                 | Priority | Preconditions                                                              | Test Steps                                                                                                                                                                                                                                                           | Expected Results                                                                                                                                                                                                                                                                                       |
|--------------|-----------------------------------------------------------------------------|----------|----------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_EDT_001   | Verify editing the AI-generated Title.                                      | High     | TC_AIG_001 successful. AI-generated title is displayed.                    | 1. In the "AI-Generated & Editable Title" field, modify the text. <br> 2. Click outside the field.                                                                                                                                                                      | The text in the editable title field reflects the user's changes. The state `editedTitle` is updated.                                                                                                                                                                                  |
| TC_EDT_002   | Verify editing an AI-generated Bullet Point.                                | High     | TC_AIG_001 successful. AI-generated bullet points are displayed.             | 1. In one of the "AI-Generated & Editable Bullet" fields, modify the text. <br> 2. Click outside the field.                                                                                                                                                            | The text in that specific bullet point field reflects the user's changes. The corresponding item in `editedBulletPoints` state is updated.                                                                                                                                                |
| TC_EDT_003   | Verify adding a new Bullet Point.                                           | High     | TC_AIG_001 successful.                                                     | 1. Click the "Add Bullet Point" button. <br> 2. Enter text into the new bullet point field.                                                                                                                                                                          | A new empty (or pre-filled if designed so) editable bullet point field appears. User can type into it. `editedBulletPoints` state is updated with the new bullet.                                                                                                                     |
| TC_EDT_004   | Verify removing a Bullet Point.                                             | High     | TC_AIG_001 successful. At least one bullet point exists.                     | 1. Click the "Remove" (X) icon next to a bullet point.                                                                                                                                                                                                                 | The selected bullet point field is removed from the UI. `editedBulletPoints` state is updated.                                                                                                                                                                                         |
| TC_EDT_005   | Verify editing the AI-generated Description.                                | High     | TC_AIG_001 successful. AI-generated description is displayed.                | 1. In the "AI-Generated & Editable Description" field, modify the text. <br> 2. Click outside the field.                                                                                                                                                              | The text in the editable description field reflects the user's changes. `editedDescription` state is updated.                                                                                                                                                                            |
| TC_EDT_006   | Verify "Copy to Clipboard" for edited Title.                                | High     | TC_EDT_001 performed.                                                      | 1. Click the "Copy Edited Title" button associated with the edited title. <br> 2. Paste into a text editor.                                                                                                                                                           | Snackbar message "Title copied to clipboard!" (or similar, translated) appears. The content of the `editedTitle` field is correctly pasted.                                                                                                                                           |
| TC_EDT_007   | Verify "Copy to Clipboard" for an edited Bullet Point.                      | High     | TC_EDT_002 performed.                                                      | 1. Click the "Copy" button for a specific edited bullet point. <br> 2. Paste.                                                                                                                                                                                          | Snackbar message "Bullet X copied to clipboard!" appears. The content of that edited bullet point is correctly pasted.                                                                                                                                                                     |
| TC_EDT_008   | Verify "Copy All Edited Bullets".                                           | High     | TC_EDT_002 and/or TC_EDT_003 performed. Multiple bullet points exist.     | 1. Click "Copy All Edited Bullets". <br> 2. Paste.                                                                                                                                                                                                                   | Snackbar message "All Edited Bullet Points copied to clipboard!" appears. All edited bullet points are pasted, separated by newlines.                                                                                                                                                       |
| TC_EDT_009   | Verify "Regenerate All" functionality.                                      | High     | TC_AIG_001 successful. User may or may not have edited content.            | 1. Click the "Regenerate All" button.                                                                                                                                                                                                                                  | Loading indicator shown. A new API call is made using the original form inputs (ASIN, manual details, language, keywords, etc.). The `editedTitle`, `editedBulletPoints`, `editedDescription` fields are updated with the new AI-generated content. Previous edits are overwritten by new AI output. |

---
**Module: Mock SP-API Listing Update**

| Test Case ID | Description                                                                  | Priority | Preconditions                                                                | Test Steps                                                                                                                                                                                                                                                           | Expected Results                                                                                                                                                                                                                                                                                                                         |
|--------------|------------------------------------------------------------------------------|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_SPU_001   | Verify triggering "Update Listing on Amazon (Mock)" with valid SKU and content. | High     | TC_EDT_001, TC_EDT_002, TC_EDT_005 performed. "Seller SKU" field is populated. | 1. Ensure "Seller SKU" field has a value. <br> 2. Click "Update Listing on Amazon (Mock)" button.                                                                                                                                                                 | Loading indicator on button. API call to backend's `/update-amazon-listing` is made. Payload contains `seller_sku`, `marketplace_id`, and `updated_data` (with `editedTitle`, `editedBulletPoints`, `editedDescription`). Mock success message from backend (e.g., "Update submitted (mock). Status: PENDING_MOCK_SUCCESS...") is displayed. |
| TC_SPU_002   | Verify attempting update without Seller SKU.                                   | High     | Optimized content is available. "Seller SKU" field is empty.                   | 1. Click "Update Listing on Amazon (Mock)" button.                                                                                                                                                                                                                   | No API call made. Error message "Seller SKU is required..." (translated) is displayed.                                                                                                                                                                                                                                                 |
| TC_SPU_003   | Verify backend mock error for SP-API update is displayed.                      | Medium   | Seller SKU and content available. Backend configured to simulate SP-API update error. | 1. Click "Update Listing on Amazon (Mock)" button.                                                                                                                                                                                                                   | API call is made. Mock error message from backend (e.g., "Update failed (mock). Status: ERROR_NO_AUTH...") is displayed.                                                                                                                                                                                                                 |

---
**Module: KSA Keyword Trend Integration (Conceptual)**

| Test Case ID | Description                                                                  | Priority | Preconditions                                                                 | Test Steps                                                                                                                                                                                                                                                           | Expected Results                                                                                                                                                                                                                                                                                                                         |
|--------------|------------------------------------------------------------------------------|----------|-------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_KWD_001   | Verify UI for inputting/displaying suggested KSA keywords.                   | Medium   | UI for KSA keyword trends is implemented.                                     | 1. Navigate to the section/modal for KSA keywords. <br> 2. (If input) Enter a KSA-specific keyword. <br> 3. (If display) Observe suggested keywords based on product category/ASIN.                                                                                 | Keywords can be entered/viewed. UI elements are responsive.                                                                                                                                                                                                                                                                              |
| TC_KWD_002   | Verify (conceptually) that selected KSA keywords are used in AI prompt.      | Medium   | Keywords selected/entered via TC_KWD_001. Product input is valid.             | 1. Select/confirm usage of specific KSA keywords. <br> 2. Submit for optimization. <br> 3. (Dev Tool) Observe payload to backend or backend logs for prompt construction.                                                                                             | The selected KSA keywords are included in the `custom_keywords` field or a similar field sent to the backend. Backend logs (or mock responses) show these keywords being incorporated into the AI prompt.                                                                                                                               |

---
**Module: User Optimization History (Conceptual)**

| Test Case ID | Description                                                                  | Priority | Preconditions                                                                | Test Steps                                                                                                                                                                                                                                                           | Expected Results                                                                                                                                                                                                                                                                                                                         |
|--------------|------------------------------------------------------------------------------|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_HST_001   | Verify viewing list of past optimization jobs.                               | Medium   | User is logged in. User has performed previous optimizations.                | 1. Navigate to "Optimization History" page/section.                                                                                                                                                                                                                  | A list/table of past optimization jobs is displayed, showing key info (e.g., Date, ASIN/Product Name, Status).                                                                                                                                                                                                                          |
| TC_HST_002   | Verify viewing details of a specific past optimization job.                  | Medium   | TC_HST_001 successful.                                                       | 1. Click on a specific job from the history list.                                                                                                                                                                                                                    | Details of the selected optimization are displayed, including the input parameters and the AI-generated content from that job.                                                                                                                                                                                                           |

---
**Module: Localization (i18n) & RTL**

| Test Case ID | Description                                                                  | Priority | Preconditions                                                                | Test Steps                                                                                                                                                                                                                                                           | Expected Results                                                                                                                                                                                                                                                                                                                         |
|--------------|------------------------------------------------------------------------------|----------|------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC_L10N_001  | Verify switching UI language from English to Arabic.                           | High     | Application is running. Default language is English. Language switcher is visible. | 1. Click on the language switcher. <br> 2. Select "العربية".                                                                                                                                                                                                          | All UI text elements (labels, buttons, titles, messages, placeholders) on the current page change to Arabic. The page layout switches to RTL (Right-to-Left): text alignment, component order, scrollbar position, etc. `<html>` tag `dir` attribute is "rtl".                                                                             |
| TC_L10N_002  | Verify switching UI language from Arabic to English.                           | High     | Application language is Arabic. Language switcher is visible.                | 1. Click on the language switcher. <br> 2. Select "English".                                                                                                                                                                                                         | All UI text elements switch to English. The page layout switches back to LTR. `<html>` tag `dir` attribute is "ltr".                                                                                                                                                                                                                        |
| TC_L10N_003  | Verify all text on Optimization Page is translated to Arabic.                | High     | Language is set to Arabic.                                                   | 1. Navigate through all sections of the Optimization Page (Product Input, Config, Review/Edit, Update to Amazon).                                                                                                                                                 | All static text elements (labels, button texts, titles, dropdown options, helper texts, alert messages, snackbar messages) are displayed in Arabic as per `ar/translation.json`. Interpolated messages are correctly rendered.                                                                       |
| TC_L10N_004  | Verify RTL layout integrity on Optimization Page.                              | High     | Language is set to Arabic.                                                   | 1. Observe layout of all sections, input fields, buttons, tables/lists, and popups/modals on the Optimization Page.                                                                                                                                               | Components are aligned from right-to-left. Text within fields is right-aligned. Icons are positioned correctly relative to text (e.g., icons on the leading side of a button should be on the right in RTL). Scrollbars appear on the left if applicable. No visual overlaps or broken layouts. |

---

**Further Modules/Areas Requiring Test Cases:**
*   **API Testing (Backend):** While not directly "Functional Test Cases" from a UI perspective, the backend API endpoints (`/optimize-listing`, `/update-amazon-listing`, `/ping`) require their own set of tests (positive, negative, validation) using tools like `pytest` as outlined in `TESTING_STRATEGY.md`.
*   **Error Handling (General):** More specific scenarios for network errors, unexpected API responses from external services (OpenAI, PAAPI), and how they are presented to the user.
*   **Usability Testing:** While not individual test cases in this format, a checklist based on usability heuristics should be used.
*   **Basic Security Checks (Conceptual):** Test cases related to input validation to prevent common issues (though full security testing is out of scope).
*   **Compatibility Testing:** Executing a subset of critical path test cases (e.g., TC_PIN_001, TC_AIG_001, TC_EDT_001, TC_L10N_001) on each supported browser (Chrome, Firefox, Edge).

This document provides a starting point and should be expanded as the application evolves.The `TEST_PLAN.md` and `FUNCTIONAL_TEST_CASES.md` files have been created successfully.

**`TEST_PLAN.md` includes:**
1.  Introduction & Objectives (Purpose, QA Objectives, reference to `QA_SCOPE_DOCUMENT.md`).
2.  Scope (Features to be Tested, Features Not to be Tested, derived from `QA_SCOPE_DOCUMENT.md`).
3.  Test Strategy (High-level: Functional, UI, Basic API validation, Localization).
4.  Test Environment (Conceptual: Docker setup, API keys, browser versions).
5.  Test Data Requirements (Valid/invalid ASINs, manual product data in EN/AR, KSA keywords, user credentials, API keys).
6.  Test Case Design Approach (Positive/negative testing, test case structure).
7.  Entry Criteria (Conceptual: Code complete, stable environment, test data, documentation).
8.  Exit Criteria (Conceptual: Test case execution coverage, defect status, localization, usability review).
9.  Roles & Responsibilities (Conceptual: QA Engineer, Development Team).
10. Risks & Mitigations (Conceptual: Limited live environment access, AI content subjectivity).

**`FUNCTIONAL_TEST_CASES.md` includes:**
*   A structured format for test cases (ID, Description, Priority, Preconditions, Steps, Expected Results).
*   Example test cases (2-3 per module) for:
    *   User Account Management (Conceptual - Basic Login/Logout)
    *   Product Input (ASIN & Manual)
    *   Optimization Configuration
    *   AI Content Generation & Display
    *   Content Editing & Interaction
    *   Mock SP-API Listing Update
    *   KSA Keyword Trend Integration (Conceptual)
    *   User Optimization History (Conceptual)
    *   Localization (i18n) & RTL
*   A list of further modules/areas requiring test cases (API Testing, General Error Handling, Usability, Basic Security, Compatibility).

These documents provide a solid foundation for the QA process of the Amazon Listing Optimizer application.
